<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeCartographer - An√°lise Visual de C√≥digo</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- React e ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Vis Network para gr√°ficos de depend√™ncias -->
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/vis-network/styles/vis-network.min.css" />
    
    <!-- html2canvas para exporta√ß√£o de imagens -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <!-- Chart.js para dashboard de m√©tricas -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üó∫Ô∏è</text></svg>">
    
    <!-- Font Awesome para √≠cones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="main-header">
        <div class="logo">
            <i class="fas fa-map"></i> 
            <span style="color: #3b82f6;">CODE</span>CARTOGRAPHER
        </div>
        <div class="header-controls">
            <div class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </div>
            <div class="version-tag">v4.0 (Professional)</div>
        </div>
    </header>

    <div id="app"></div>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="cache-status" id="cacheStatus"></div>
            <div class="footer-links">
                <span>Conectado √† API do GitHub</span>
                <span>‚Ä¢</span>
                <span id="currentYear">2024</span>
                <span>‚Ä¢</span>
                <a href="#" onclick="clearCache()" style="color: #94a3b8; text-decoration: none;">
                    <i class="fas fa-trash-alt"></i> Limpar Cache
                </a>
            </div>
        </div>
    </footer>

    <!-- Nosso aplicativo React -->
    <script src="app.js"></script>
    
    <script>
        // Script para tema claro/escuro
        document.getElementById('themeToggle').addEventListener('click', function() {
            document.body.classList.toggle('light-theme');
            const icon = this.querySelector('i');
            if (document.body.classList.contains('light-theme')) {
                icon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'light');
            } else {
                icon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'dark');
            }
        });
        
        // Carregar tema salvo
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
            document.getElementById('themeToggle').querySelector('i').className = 'fas fa-sun';
        }
        
        // Atualizar ano atual
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // Fun√ß√£o para limpar cache
        function clearCache() {
            if (confirm('Tem certeza que deseja limpar todo o cache? Isso remover√° todas as an√°lises salvas.')) {
                const keys = Object.keys(localStorage);
                keys.forEach(key => {
                    if (key.startsWith('codemap_')) {
                        localStorage.removeItem(key);
                    }
                });
                document.getElementById('cacheStatus').innerHTML = 
                    '<i class="fas fa-check-circle"></i> Cache limpo com sucesso!';
                setTimeout(() => {
                    document.getElementById('cacheStatus').innerHTML = '';
                }, 3000);
            }
            return false;
        }
    </script>
</body>
</html>