<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Planejando uma Grande Refatora√ß√£o: Como o Mapa Define a Ordem | CodeCartographer</title>
    <meta name="description" content="Estrat√©gia para priorizar e sequenciar tarefas de refatora√ß√£o baseada em an√°lise de risco e impacto usando m√©tricas de depend√™ncia.">
    
    <meta property="og:title" content="Planejando uma Grande Refatora√ß√£o: Como o Mapa Define a Ordem">
    <meta property="og:description" content="Estrat√©gia para priorizar refatora√ß√µes baseada em an√°lise de risco e impacto.">
    <meta property="og:image" content="https://joaoclaudiano.github.io/legacymap/images/artigos/refatoracao.jpg">
    <meta property="og:url" content="https://joaoclaudiano.github.io/legacymap/artigos/planejando-refatoracao-mapa-ordem.html">
    <meta property="og:type" content="article">
    
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        .article-container { max-width: 800px; margin: 2rem auto; padding: 0 1.5rem; }
        .article-header { margin-bottom: 3rem; }
        .article-title { font-size: 2.5rem; line-height: 1.2; margin-bottom: 1rem; color: #f8fafc; }
        .article-meta { display: flex; flex-wrap: wrap; gap: 1.5rem; color: #94a3b8; margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid #334155; }
        .article-meta span { display: flex; align-items: center; gap: 0.5rem; }
        .article-content { font-size: 1.125rem; line-height: 1.8; color: #e2e8f0; }
        .article-content h2 { font-size: 1.75rem; margin-top: 3rem; margin-bottom: 1.5rem; color: #f1f5f9; padding-bottom: 0.5rem; border-bottom: 2px solid #3b82f6; }
        .article-content h3 { font-size: 1.5rem; margin-top: 2.5rem; margin-bottom: 1rem; color: #f1f5f9; }
        .article-content p { margin-bottom: 1.5rem; }
        .article-content ul, .article-content ol { margin-bottom: 1.5rem; padding-left: 2rem; }
        .article-content li { margin-bottom: 0.75rem; }
        .article-content code { background: #1e293b; padding: 0.2rem 0.5rem; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 0.9em; }
        .article-content pre { background: #0f172a; border: 1px solid #334155; border-radius: 8px; padding: 1.5rem; overflow-x: auto; margin: 1.5rem 0; }
        .article-cta { background: #1e293b; border-radius: 10px; padding: 2rem; margin: 3rem 0; text-align: center; border-left: 4px solid #3b82f6; }
        .cta-button { display: inline-block; background: #3b82f6; color: white; padding: 0.75rem 1.5rem; border-radius: 6px; text-decoration: none; font-weight: bold; margin-top: 1rem; transition: background 0.2s; }
        .cta-button:hover { background: #2563eb; }
        .article-navigation { display: flex; justify-content: space-between; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid #334155; }
        .nav-prev, .nav-next { color: #94a3b8; text-decoration: none; max-width: 45%; }
        .nav-label { display: block; font-size: 0.875rem; color: #64748b; margin-bottom: 0.5rem; }
        .phase-card { background: #1e293b; border-radius: 8px; padding: 1.5rem; margin: 2rem 0; }
        .phase-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; }
        .phase-number { background: #3b82f6; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: bold; }
        .phase-title { font-size: 1.5rem; margin: 0; }
        .risk-matrix { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 2rem 0; }
        .risk-cell { padding: 1rem; border-radius: 8px; text-align: center; }
        .risk-low { background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; }
        .risk-medium { background: rgba(234, 179, 8, 0.2); border: 2px solid #eab308; }
        .risk-high { background: rgba(239, 68, 68, 0.2); border: 2px solid #ef4444; }
        .priority-list { counter-reset: priority-counter; }
        .priority-item { margin-bottom: 1.5rem; padding-left: 3rem; position: relative; }
        html, body {
        height: 100%;
        overflow-y: auto; /* Garante que a rolagem vertical funcione */
        }
        .priority-item:before { counter-increment: priority-counter; content: counter(priority-counter); position: absolute; left: 0; top: 0; background: #3b82f6; color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        @media (max-width: 768px) { .article-title { font-size: 2rem; } .article-meta { flex-direction: column; gap: 0.75rem; } .article-navigation { flex-direction: column; gap: 1.5rem; } .nav-prev, .nav-next { max-width: 100%; } .risk-matrix { grid-template-columns: 1fr; } }
    
    </style>
</head>
<body>
    <header class="main-header">
        <div class="logo">
            <i class="fas fa-map"></i> 
            <span style="color: #3b82f6;">CODE</span>CARTOGRAPHER
        </div>
        <nav class="main-nav">
            <a href="../index.html" class="nav-link"><i class="fas fa-home"></i> In√≠cio</a>
            <a href="../artigos.html" class="nav-link"><i class="fas fa-newspaper"></i> Artigos</a>
        </nav>
        <div class="header-controls">
            <div class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></div>
        </div>
    </header>

    <div class="article-container">
        <article>
            <header class="article-header">
                <h1 class="article-title">Planejando uma Grande Refatora√ß√£o: Como o Mapa Define a Ordem das Tarefas</h1>
                <div class="article-meta">
                    <span><i class="far fa-calendar"></i> Publicado em: 12 de Janeiro, 2026</span>
                    <span><i class="far fa-folder"></i> Categoria: Gest√£o & Estrat√©gia</span>
                    <span><i class="far fa-clock"></i> Tempo de leitura: 9 minutos</span>
                </div>
            </header>

            <div class="article-content">
                <p>Refatorar um sistema grande √© uma das tarefas mais <strong>assustadoras para qualquer desenvolvedor ou equipe</strong>. As perguntas s√£o sempre as mesmas: Por onde come√ßar? Qual mudan√ßa √© segura? O que se quebrar primeiro? Um mapa de depend√™ncias transforma esse processo de um salto no escuro para uma jornada com mapa, b√∫ssola e plano detalhado.</p>
                
                <h2>O Princ√≠pio Fundamental: Folhas Primeiro</h2>
                <p>A estrat√©gia mais segura e eficaz √© sempre come√ßar pelas <strong>"folhas da √°rvore"</strong> - m√≥dulos que n√£o s√£o dependidos por ningu√©m, mas que dependem de outros. Refator√°-los tem risco quase zero de quebrar o sistema, pois nenhum outro c√≥digo depende deles.</p>
                
                <div class="phase-card">
                    <div class="phase-header">
                        <div class="phase-number">1</div>
                        <h3 class="phase-title">Fase 1 - Folhas (Baixo Risco)</h3>
                    </div>
                    <p><strong>M√≥dulos-alvo:</strong> Utilit√°rios, helpers, fun√ß√µes puras, componentes UI isolados.</p>
                    <p><strong>Como identificar:</strong> No CodeCartographer, use o filtro "M√≥dulos sem dependentes".</p>
                    <p><strong>Benef√≠cios:</strong> Ganho r√°pido de confian√ßa, redu√ß√£o imediata de d√≠vida t√©cnica perif√©rica, aprendizado do dom√≠nio com baixo risco.</p>
                </div>
                
                <div class="phase-card">
                    <div class="phase-header">
                        <div class="phase-number">2</div>
                        <h3 class="phase-title">Fase 2 - Ramos (Risco M√©dio)</h3>
                    </div>
                    <p><strong>M√≥dulos-alvo:</strong> M√≥dulos com poucos dependentes (1-3), servi√ßos espec√≠ficos, adaptadores.</p>
                    <p><strong>Como identificar:</strong> Filtre por "N√∫mero de dependentes" e selecione a faixa 1-3.</p>
                    <p><strong>Benef√≠cios:</strong> Come√ßa a desacoplar partes significativas do sistema, cria interfaces mais limpas.</p>
                </div>
                
                <div class="phase-card">
                    <div class="phase-header">
                        <div class="phase-number">3</div>
                        <h3 class="phase-title">Fase 3 - Troncos (Alto Risco)</h3>
                    </div>
                    <p><strong>M√≥dulos-alvo:</strong> Hubs cr√≠ticos, servi√ßos core, gerenciadores centrais.</p>
                    <p><strong>Como identificar:</strong> M√≥dulos com 10+ dependentes no grafo.</p>
                    <p><strong>Estrat√©gia especial:</strong> Requer cria√ß√£o de interfaces antes da refatora√ß√£o, migra√ß√£o gradual, e testes extensivos.</p>
                </div>
                
                <div class="phase-card">
                    <div class="phase-header">
                        <div class="phase-number">4</div>
                        <h3 class="phase-title">Fase 4 - Ra√≠zes (Risco Cr√≠tico)</h3>
                    </div>
                    <p><strong>M√≥dulos-alvo:</strong> M√≥dulos dos quais muitos outros dependem, bibliotecas core compartilhadas.</p>
                    <p><strong>Como identificar:</strong> M√≥dulos com alta "depend√™ncia de entrada" no relat√≥rio m√©trico.</p>
                    <p><strong>Precau√ß√µes:</strong> Planejamento cuidadoso, comunica√ß√£o com toda a equipe, rollout gradual, rollback plan.</p>
                </div>
                
                <h2>Matriz de Risco vs. Impacto</h2>
                <p>Use esta matriz para priorizar m√≥dulos dentro de cada fase:</p>
                
                <div class="risk-matrix">
                    <div class="risk-cell risk-high">
                        <strong>Alto Impacto</strong><br>
                        <small>Alto Risco</small>
                        <p>Refatore por √∫ltimo<br>Ex: Database core</p>
                    </div>
                    <div class="risk-cell risk-medium">
                        <strong>Alto Impacto</strong><br>
                        <small>M√©dio Risco</small>
                        <p>Planeje cuidadosamente<br>Ex: Auth service</p>
                    </div>
                    <div class="risk-cell risk-low">
                        <strong>Alto Impacto</strong><br>
                        <small>Baixo Risco</small>
                        <p>Boa oportunidade<br>Ex: UI components</p>
                    </div>
                    
                    <div class="risk-cell risk-medium">
                        <strong>M√©dio Impacto</strong><br>
                        <small>Alto Risco</small>
                        <p>Avalie custo/benef√≠cio<br>Ex: Legacy integration</p>
                    </div>
                    <div class="risk-cell risk-low">
                        <strong>M√©dio Impacto</strong><br>
                        <small>M√©dio Risco</small>
                        <p>Prioridade m√©dia<br>Ex: Business logic</p>
                    </div>
                    <div class="risk-cell risk-low">
                        <strong>M√©dio Impacto</strong><br>
                        <small>Baixo Risco</small>
                        <p>Fa√ßa logo<br>Ex: Utility functions</p>
                    </div>
                    
                    <div class="risk-cell risk-medium">
                        <strong>Baixo Impacto</strong><br>
                        <small>Alto Risco</small>
                        <p>Considere n√£o fazer<br>Ex: Deprecated code</p>
                    </div>
                    <div class="risk-cell risk-low">
                        <strong>Baixo Impacto</strong><br>
                        <small>M√©dio Risco</small>
                        <p>Fa√ßa quando tiver tempo<br>Ex: Code style fixes</p>
                    </div>
                    <div class="risk-cell risk-low">
                        <strong>Baixo Impacto</strong><br>
                        <small>Baixo Risco</small>
                        <p>Quick wins<br>Ex: Typos, comments</p>
                    </div>
                </div>
                
                <h2>Lista de Prioridades para sua Pr√≥xima Refatora√ß√£o</h2>
                <div class="priority-list">
                    <div class="priority-item">
                        <strong>Identifique m√≥dulos sem dependentes</strong> usando o CodeCartographer. Estes s√£o seus primeiros candidatos.
                    </div>
                    <div class="priority-item">
                        <strong>Calcule o √≠ndice de estabilidade</strong> para cada m√≥dulo: (depend√™ncias de sa√≠da) / (depend√™ncias de entrada + sa√≠da). Quanto menor, mais est√°vel.
                    </div>
                    <div class="priority-item">
                        <strong>Estabele√ßa crit√©rios de "pronto"</strong> antes de come√ßar. Ex: "Reduzir acoplamento em 30%", "Eliminar todos os ciclos", "Criar interfaces para 5 servi√ßos".
                    </div>
                    <div class="priority-item">
                        <strong>Crie um branch de refatora√ß√£o</strong> e use o mapa para comunicar o plano com stakeholders n√£o t√©cnicos.
                    </div>
                    <div class="priority-item">
                        <strong>Monitore progresso com snapshots</strong> semanais do mapa. Compare visualmente a evolu√ß√£o da arquitetura.
                    </div>
                </div>
                
                <h2>Exemplo: Refatora√ß√£o de um Sistema de E-commerce</h2>
                <pre><code>// ANTES (grafo ca√≥tico)
CheckoutController ‚Üí 12 m√≥dulos
ProductService ‚Üí 18 m√≥dulos  
UserManager ‚Üí 24 m√≥dulos (GOD OBJECT!)

// ESTRAT√âGIA:
1. Refatorar EmailUtils (0 dependentes) ‚úì
2. Extrair PaymentValidator de CheckoutController (2 dependentes) ‚úì
3. Dividir UserManager em:
   - UserAuthentication (login/logout)
   - UserProfile (dados pessoais)
   - UserPreferences (configura√ß√µes)
4. Criar interface ProductRepository
5. Por √∫ltimo: refatorar CheckoutController core</code></pre>
                
                <div class="article-cta">
                    <h3>üìã Crie seu Plano de Refatora√ß√£o</h3>
                    <p>Baixe nosso template gratuito de planejamento de refatora√ß√£o e comece a transformar seu c√≥digo legado em uma arquitetura sustent√°vel.</p>
                    <a href="../index.html" class="cta-button">
                        <i class="fas fa-download"></i> Gerar Meu Plano Agora
                    </a>
                </div>
            </div>

            <footer class="article-navigation">
                <a href="5-problemas-arquitetura-revela.html" class="nav-prev">
                    <span class="nav-label">‚Üê Artigo anterior</span>
                    <span>5 Problemas de Arquitetura</span>
                </a>
                <a href="ferramenta-visual-vs-analise-estatica.html" class="nav-next">
                    <span class="nav-label">Pr√≥ximo artigo ‚Üí</span>
                    <span>Ferramenta Visual vs. An√°lise Est√°tica</span>
                </a>
            </footer>
        </article>
    </div>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-links">
                <span>Conectado √† API do GitHub</span><span>‚Ä¢</span>
                <a href="../guia.html"><i class="fas fa-book"></i> Como Usar</a><span>‚Ä¢</span>
                <a href="../politica-de-privacidade.html"><i class="fas fa-shield-alt"></i> Privacidade</a><span>‚Ä¢</span>
                <a href="../contato.html"><i class="fas fa-envelope"></i> Contato</a><span>‚Ä¢</span>
                <a href="../artigos.html"><i class="fas fa-newspaper"></i> Artigos</a><span>‚Ä¢</span>
                <span id="currentYear">2026</span><span>‚Ä¢</span>
                <a href="#" onclick="clearCache()"><i class="fas fa-trash-alt"></i> Limpar Cache</a>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById('themeToggle').addEventListener('click', function() {
            document.body.classList.toggle('light-theme');
            this.querySelector('i').className = document.body.classList.contains('light-theme') ? 'fas fa-sun' : 'fas fa-moon';
            localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
        });
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
            document.getElementById('themeToggle').querySelector('i').className = 'fas fa-sun';
        }
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        function clearCache() { if (confirm('Limpar cache?')) { Object.keys(localStorage).forEach(key => { if (key.startsWith('codemap_')) localStorage.removeItem(key); }); alert('Cache limpo!'); } return false; }
    </script>
</body>
</html>
